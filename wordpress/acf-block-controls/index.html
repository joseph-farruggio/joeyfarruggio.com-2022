<h2>Create a more consistent editing experience</h2>
<p>I was really excited when Elliot Codon launched ACF blocks back in 2019. However, I was concerned with the difference in the editing experience  when commingling ACF and Core blocks. I saw this in two ways:</p>
<ol>
<li><strong>The way you edit your content is different.</strong> </br>Rich editing UIs for Core blocks and custom fields for ACF bocks.</li>
<li><strong>The UI for sidebar controls were completely different.</strong> </br>ACF and Core blocks had very different UIs for controls. From color pickers to radio inputs, everything was different.</li>
</ol>
<p>ACF blocks, and the block editor as a whole, have come a long way since then. We're getting closer to providing a better, more consistent editing experience. In a future guide I'll cover <code>&lt;InnerBlocks&gt;</code> and how we can insert Core blocks into a parent ACF block as children. This will help with addressing point #1 above, but in this guide I'll cover how to enable Core sidebar controls in your ACF block.</p>
<h2>Block Controls</h2>
<p>We'll be enabling controls within our block's <code>block.json</code> file. <span class="hidden xl:inline">Feel free to use the table of contents to the right to jump around and learn about a block control that interests you.</span></p>
<h3>Alignment</h3>
<p>Alignment lets you side the width of your block or center it. Alignment should come enabled by default, but we'll set the pattern of defining our block's capabilities here.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"posts-loop"</span><span class="token punctuation">,</span><br>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Posts Loop Block"</span><span class="token punctuation">,</span><br>    ...<br>    <span class="token property">"supports"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token property">"align"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>If you're using <code>theme.json</code>, we define our content width and our wide width under the <code>settings</code> object:</p>
<pre class="language-json"><code class="language-json"><span class="token property">"settings"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"layout"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        <span class="token property">"contentSize"</span><span class="token operator">:</span> <span class="token string">"50rem"</span><span class="token punctuation">,</span><br>        <span class="token property">"wideSize"</span><span class="token operator">:</span> <span class="token string">"80rem"</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="/images/alignment-ui.jpg" alt="&quot;Alignment Settings&quot;" title="Alignment Settings"></p>
<p>Both ACF and Core blocks use these alignment sizes and have corresponding classnames. If you set your block to the wide alignment, the classname would be <code>alignwide</code> while the full width alignment would be <code>alignfull</code>.</p>
<p>Here's how we access our block's alignment and apply the appropriate classname. From our block's render template: <code>template.php</code></p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>    <span class="token comment">// Block classes</span><br>    <span class="token variable">$className</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'posts-loop-block'</span><span class="token punctuation">;</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'className'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' '</span> <span class="token operator">.</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'className'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// Block alignment</span><br>    <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'align'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' align'</span> <span class="token operator">.</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'align'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token delimiter important">?></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$block_id</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$className</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    ...<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>In your CSS, make sure you provide styles for your wide and full width classnames.</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.alignwide</span> <span class="token punctuation">{</span><br>	<span class="token comment">/* Styles for your wide width content */</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.alignfull</span> <span class="token punctuation">{</span><br>	<span class="token comment">/* Styles for your full width content */</span><br><span class="token punctuation">}</span></code></pre>
<h3>Text Alignment</h3>
<p><img src="/images/text-alignment-ui.jpg" alt="&quot;Text alignment Settings&quot;" title="Alignment Settings"></p>
<p>Enable the text alignment control in your block's block.json:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"posts-loop"</span><span class="token punctuation">,</span><br>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Posts Loop Block"</span><span class="token punctuation">,</span><br>    ...<br>    <span class="token property">"supports"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        ...<br>        <span class="token property">"alignText"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>And in your block's template, you can apply the appropriate text alignment classname:</p>
<pre class="language-php"><code class="language-php"><span class="token comment">// Block text alignment</span><br><span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token operator">!</span><span class="token keyword">empty</span><span class="token punctuation">(</span><span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'alignText'</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' has-text-align-'</span> <span class="token operator">.</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'alignText'</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>The classnames generated would be:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.has-text-align-left</span> <span class="token punctuation">{</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.has-text-align-center</span> <span class="token punctuation">{</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token selector">.has-text-align-right</span> <span class="token punctuation">{</span><br>    <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h3>Full hight + content alignment</h3>
<p>Enable the full height control ACF blocks to create engaging content that stretches 100% of the browser's height with <code>fullHeight</code>.</p>
<p>You can control the vertical alignment of the inner content with <code>alignContent: true</code> and gain even more control with <code>alignContent: 'matrix'</code>. The matrix setting allows you to align low your content to a quadrant of a 3x3 grid.</p>
<p><img src="/images/full-height.jpg" alt="&quot;Full height and alignment Settings&quot;" title="Full height and alignment Settings"></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"posts-loop"</span><span class="token punctuation">,</span><br>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Posts Loop Block"</span><span class="token punctuation">,</span><br>    ...<br>    <span class="token property">"supports"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        ...<br>        <span class="token property">"fullHeight"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>        <span class="token property">"alignContent"</span><span class="token operator">:</span> <span class="token boolean">true</span> or <span class="token string">"matrix"</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h3>Spacing</h3>
<p>Achieve a bit more design flexibility with spacing controls and apply margin and padding to your ACF block.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"posts-loop"</span><span class="token punctuation">,</span><br>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Posts Loop Block"</span><span class="token punctuation">,</span><br>    ...<br>    <span class="token property">"supports"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        ...<br>        <span class="token property">"spacing"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>            <span class="token property">"margin"</span><span class="token operator">:</span> <span class="token punctuation">[</span><br>                <span class="token string">"top"</span><span class="token punctuation">,</span><br>                <span class="token string">"bottom"</span><br>            <span class="token punctuation">]</span><span class="token punctuation">,</span><br>            <span class="token property">"padding"</span><span class="token operator">:</span> <span class="token boolean">true</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>For both margin and padding, you can specify where an editor can apply values (top,right,bottom,left) or simply just set it to true.</p>
<p>To access your spacing values in your template, you might want to create a helper function. Otherwise, things get a bit verbose and repetitive. In <code>functions.php</code> or <code>template-functions.php</code>, we'll create a helper function that accepts one parameter, our blocks styles:</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token function">function_exists</span><span class="token punctuation">(</span> <span class="token string single-quoted-string">'get_block_styles'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span><br>    <span class="token keyword">function</span> <span class="token function-definition function">get_block_styles</span><span class="token punctuation">(</span><span class="token variable">$attributes</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$styles</span> <span class="token operator">=</span> <span class="token string double-quoted-string">""</span><span class="token punctuation">;</span><br><br>        <span class="token comment">// Get our top, right, bottom, and left padding values</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token variable">$paddingTop</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'top'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"padding-top: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$paddingRight</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'right'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"padding-right: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'right'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$paddingBottom</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"padding-bottom: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'bottom'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$paddingLeft</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'left'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"padding-left: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'padding'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$styles</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$paddingTop</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$paddingRight</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$paddingBottom</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$paddingLeft</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token comment">// Get our top, right, bottom, and left margin values</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>            <span class="token variable">$marginTop</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'top'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"margin-top: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'top'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$marginRight</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'right'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"margin-right: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'right'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$marginBottom</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'bottom'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"margin-bottom: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'bottom'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$marginLeft</span> <span class="token operator">=</span> <span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'left'</span><span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string double-quoted-string">"margin-left: <span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$attributes</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'spacing'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'margin'</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'left'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>;"</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span><br>            <span class="token variable">$styles</span> <span class="token operator">.=</span> <span class="token string double-quoted-string">"<span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$marginTop</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$marginRight</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$marginBottom</span><span class="token punctuation">}</span></span><span class="token interpolation"><span class="token punctuation">{</span><span class="token variable">$marginLeft</span><span class="token punctuation">}</span></span>"</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br><br>        <span class="token keyword">return</span> <span class="token variable">$styles</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token keyword">endif</span><span class="token punctuation">;</span></code></pre>
<p>Back in our block's render template:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>    <span class="token variable">$blockStyles</span> <span class="token operator">=</span> <span class="token function">get_block_styles</span><span class="token punctuation">(</span><span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'style'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token delimiter important">?></span></span><br><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <br>    <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token value css language-css"><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$blockStyles</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></span><span class="token punctuation">"</span></span></span><br>    <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$block_id</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span> <br>    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$className</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    ...<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3>Color Picker</h3>
<p>By far my favorite control is the Core color picker. You can enable the color picker for the background of your block, the text color for its contents, and (for some reason) the color of links in your content.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"posts-loop"</span><span class="token punctuation">,</span><br>    <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"Posts Loop Block"</span><span class="token punctuation">,</span><br>    ...<br>    <span class="token property">"supports"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>        ...<br>        <span class="token property">"color"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>            <span class="token property">"background"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>            <span class="token property">"text"</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>            <span class="token property">"link"</span><span class="token operator">:</span> <span class="token boolean">false</span><br>        <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p><img src="/images/color-picker.jpg" alt="&quot;Color Picker Settings&quot;" title="Color Picker Settings"></p>
<p>Gutenberg generates a few classes for Core blocks with colors applied. If a Core block has a background class applied you'll get:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>has-background has-{color_slug}-background-color<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    ...<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>If you apply text color you'll get:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>has-text-color has-{color_slug}-color<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>    ...<br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Let's bring these classes into your block template:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br>    <span class="token comment">// Set the background color classnames</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'backgroundColor'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' has-background'</span><span class="token punctuation">;</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' has-'</span> <span class="token operator">.</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'backgroundColor'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'-background-color'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token comment">// Set the text color classnames</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span> <span class="token keyword">empty</span><span class="token punctuation">(</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'textColor'</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' has-text-color'</span><span class="token punctuation">;</span><br>        <span class="token variable">$className</span> <span class="token operator">.=</span> <span class="token string single-quoted-string">' has-'</span> <span class="token operator">.</span> <span class="token variable">$block</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'textColor'</span><span class="token punctuation">]</span> <span class="token operator">.</span> <span class="token string single-quoted-string">'-color'</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><span class="token delimiter important">?></span></span></code></pre>
<p>The classnames <code>has-background</code> and <code>has-text-color</code> are really handy. There are times where you may want to globally apply styles to blocks that have a background color. One example might be group blocks. If a group block has a background color you can pretty much guarantee you'll want to apply padding. Otherwise the group's contents will sit on the edge of the background.</p>
<h3>Other controls</h3>
<p>This isn't a full list of the controls available in the block API. Dig around in the <a href="https://developer.wordpress.org/block-editor/reference-guides/block-api/block-supports/" target="_blank">Block Editor Handbook</a> and you'll discover other controls and capabilities to bring into your block.</p>
<hr>
<p>🤜 🤛 You did it!</p>
<p>If you've followed along, let me know how this went or if you have any questions.</p>
<aside 
  x-data="visibleNavHighlighter" 
  x-on:scroll.window.throttle.50ms="onScroll()" 
  x-cloak>
  <div class="fixed mt-20 right-0 bottom-0 hidden w-64 overflow-y-auto py-8 px-6 md:top-[4rem] xl:block">
    <p class="text-base">In This Guide</p>
    <ul class="space-y-3 list-none m-0 p-0">
        <template x-for="heading in headings">
            <li class="text-base p-0" :class="if (heading.tagName.toLowerCase() === 'h3') { return 'ml-4' } else if (heading.tagName.toLowerCase() === 'h4') { return 'ml-8' }">
                <a :href="'#'+heading.id" class="no-underline" 
                :class="visibleHeadingId == heading.id ? 'font-medium text-orange-400 dark:text-orange-400' : 'text-slate-800 dark:text-white'" x-text="heading.innerText"></a>
            </li>
        </template>
    </ul>
  </div>
</aside>