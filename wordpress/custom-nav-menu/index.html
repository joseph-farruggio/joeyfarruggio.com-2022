<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>How to create a custom nav menu in WordPress</title>
    <meta name="description" content="" />


    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-129275479-1"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-129275479-1');
    </script>

    <link rel="stylesheet" href="/css/tailwind.min.css" />
    <link rel="stylesheet" href="/css/nightowl.min.css" />
    
    
    <!-- Open Graph / Facebook -->
    <meta property="og:title" content="How to create a custom nav menu in WordPress" />
    <meta property="og:url" content="https://joeyfarruggio.com/wordpress/custom-nav-menu/" />
    <meta property="og:description" content="If you need to control the markup of your nav menu, and want to avoid wp_nav_menu() and nav walkers, this is for you." />
    <meta property="og:image" content="https://joeyfarruggio.com/images/avatar-small.jpg" />
    <meta property="og:type" content="article" />

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" ontent="https://joeyfarruggio.com/wordpress/custom-nav-menu/" />
    <meta property="twitter:title" content="How to create a custom nav menu in WordPress" />
    <meta property="twitter:description" content="If you need to control the markup of your nav menu, and want to avoid wp_nav_menu() and nav walkers, this is for you." />
    <meta property="twitter:image" content="https://joeyfarruggio.com/images/avatar-small.jpg" />
</head>
<body x-data="app()" class="bg-white dark:bg-[#040817] transition-colors dark:text-white text-slate-800 font-body">
    <header class="max-w-screen-xl mx-auto px-4 py-4 md:py-8 text-right" x-data="{menuOpen: false}">
        <div class="hidden fixed md:static top-0 left-0 h-screen w-screen md:h-auto md:w-full z-40 pb-16 md:p-0 bg-white dark:bg-darkBG md:bg-transparent dark:md:bg-transparent md:flex md:items-center md:justify-between" :class="{'block': menuOpen, 'hidden': !menuOpen}">
            <nav class="text-center flex flex-col md:block text-2xl md:text-lg md:space-x-6">
                <a href="/" class="block md:inline dark:text-slate-500  dark:hover:text-white text-slate-900 transition-colors hover:text-orange-400  no-underline  px-4 py-3 rounded-lg">Home</a>
                <a href="/contact" class="block md:inline dark:text-slate-500  dark:hover:text-white text-slate-900 transition-colors hover:text-orange-400  no-underline  px-4 py-3 rounded-lg">Contact</a>
                <a href="/blog" class="block md:inline dark:text-slate-500  dark:hover:text-white text-slate-900 transition-colors hover:text-orange-400  no-underline  px-4 py-3 rounded-lg">Blog</a>
            </nav>
            
        </div>
        <button class="print:hidden  border-none ml-full inline-block p-4 relative z-50 md:hidden" @click="menuOpen = !menuOpen">
            <svg xmlns="http://www.w3.org/2000/svg" x-show="!menuOpen" class="h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8h16M4 16h16" /></svg>
            <svg xmlns="http://www.w3.org/2000/svg" x-show="menuOpen" x-cloak class="h-6 w-6" fill="none" viewbox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
        </button>
    </header>
    
    <main data-cms-content-wrapper="/src/_includes/layouts/base.njk">
        <article id="post" class="prose lg:prose-xl max-w-screen-md mx-auto px-4 mt-12 prose-invert">
    <h1 class="dark:text-orange-400 text-4xl text-highlight-orange">How to create a custom nav menu in WordPress</h1>
    <p class=" text-lg mt-4 leading-relaxed">If you need to control the markup of your nav menu, and want to avoid wp_nav_menu() and nav walkers, this is for you.</p>
    <span class="flex items-center space-x-4 mt-4 text-gray-400">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>
        <time datetime="2022-10-31">31 Oct 2022</time>
    </span>
    <div class="mt-16"></div>   
    <h2 class="ignore-toc">In this guide</h2>
<p>We learn about the <a href="#traditional">traditional way of creating a nav menu</a> in WordPress: <code>wp_nav_menu()</code> and the problems it presents.</p>
<p>We'll cover a couple solutions including <a href="#navi">Navi</a> and the <a href="#nav-walker">Walker_Nav_Walker</a> class.</p>
<p>Finally, we'll create our <a href="#building-a-custom-nav-menu-in-wodpress">custom nav menu</a> using <code>wp_get_nav_menu_items()</code>.</p>
<h2 id="traditional">Simple nav menus with wp_nav_menu()</h2>
<p>The traditional way of building a navigation menu in WordPress is to use <code>wp_nav_menu()</code>. This WordPress function returns your menu as simple HTML list. For many cases, <code>wp_nav_menu()</code> may be completely sufficient and I'd recommend using it if so.</p>
<pre class="language-php"><code class="language-php">   <span class="token function">wp_nav_menu</span><span class="token punctuation">(</span> <span class="token keyword">array</span><span class="token punctuation">(</span><br>      <span class="token string single-quoted-string">'menu'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Primary'</span><br>   <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-primary-container<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-primary<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-item-5<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-item menu-item-has-children menu-item-5<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Menu Item A<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-item-8<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menu-item menu-item-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Menu Item B<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>You can pass in additional arguments to gain some control over the menu's markup. More about that <a href="https://developer.wordpress.org/reference/functions/wp_nav_menu/" target="_blank">in the docs</a>.</p>
<p>Some options include:</p>
<ol>
<li>Container - defaults to a <code>&lt;div&gt;</code></li>
<li>Container class - in our case it's <code>menu-primary-container</code></li>
<li>Items wrap - defaults to <code>&lt;ul&gt;</code></li>
</ol>
<p>There are a few more options, but beyond that we don't have much control over the markup.</p>
<hr>
<h2>The problem</h2>
<p><code>wp_nav_menu()</code> owns the markup – this becomes a problem when we need to build more complex layouts. It also prevents us from consistently using tools like Tailwind CSS and Alpine.</p>
<hr>
<h2>Solutions</h2>
<p>There are a couple ways to gain more control over our markup. Ideally, we'll be able to loop through our menu items as an array. We should also be able to check if the current menu item has children so that we can control the markup of sub menus.</p>
<hr>
<h3 id="nav-walker">Nav Walker</h3>
<p>The <code>Walker_Nav_Menu</code> PHP Class allows you to modify the HTML that's returned from <code>wp_nav_menu()</code>. If gives you more flexibility than the arguments you pass directly into the function. Many people struggle with this Class. It's far from intuitive and it takes some time to get used to. It also doesn't let us simply loop over our menu items. Here's the gist of how it works though:</p>
<p>There are four primary methods you'll use to modify your menu's markup:</p>
<ol>
<li>start_el — Modifies the start of an elements output</li>
<li>end_el — Modifies the end of an elements output</li>
<li>start_lvl — Modifies the list before the elements are added</li>
<li>end_lvl — Modidies the list of after the elements are added</li>
</ol>
<p>We're going to pass on this solution for something simpler.</p>
<hr>
<h3 id="navi">Navi</h3>
<p>There's a Composer package called <a href="https://github.com/Log1x/navi" target="_blank">Navi by @Log1x</a>. This package handles all of the heavy lifting, giving you a clean array of menu items to loop through. With Navi, we can loop our nav menu like this:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$navigation</span><span class="token operator">-></span><span class="token function">isNotEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><br>      <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$navigation</span><span class="token operator">-></span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token variable">$item</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">classes</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">active</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'current-item'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">url</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>               <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">label</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endforeach</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endif</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></code></pre>
<p>Navi also lets you check for sub menus too:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">children</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><br>      <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">foreach</span> <span class="token punctuation">(</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">children</span> <span class="token keyword">as</span> <span class="token variable">$child</span> <span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$child</span><span class="token operator">-></span><span class="token property">classes</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$child</span><span class="token operator">-></span><span class="token property">active</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'current-item'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$child</span><span class="token operator">-></span><span class="token property">url</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>               <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">echo</span> <span class="token variable">$child</span><span class="token operator">-></span><span class="token property">label</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>      <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endforeach</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><br><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endif</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span></code></pre>
<p>This tutorial could easily end here, but let's learn how to build our own lightweight solution.</p>
<hr>
<h2>Building a custom nav menu in WodPress</h2>
<p>Our solution will be based on the WordPress function <code>wp_get_nav_menu_items()</code>. This function returns an array of your menu items. It's also what Navi uses under the hood. The problem is that it returns a single dimensional array. Child menu items are not nested under their parents in a <code>children[]</code> array. Instead, they reference their parent by ID. This makes it difficult to just loop over our menu.</p>
<p>We're going to wrap <code>wp_get_nav_menu_items()</code> inside of a new function that transforms the returned array into something that's loopable.</p>
<p>Here's what our function will do:</p>
<ol>
<li>Retrieve our nav menu with <code>wp_get_nav_menu_items()</code></li>
<li>Loop the menu items</li>
<li>Reassemble a new array while nesting children items inside their parent's <code>children</code> array</li>
</ol>
<p>This is a simplified solution. The final array only includes the menu item's <code>ID</code>, <code>title</code>, <code>url</code>, and <code>children</code>. You may want to include the menu item's CSS ID and CSS class names along with other data avalailable from <code>wp_get_nav_menu_items()</code>.</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">function</span> <span class="token function-definition function">my_menu_builder</span><span class="token punctuation">(</span><span class="token variable">$menu_id</span> <span class="token operator">=</span> <span class="token string single-quoted-string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token function">wp_get_nav_menu_items</span><span class="token punctuation">(</span><span class="token variable">$menu_id</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token variable">$new_menu</span> <span class="token operator">=</span> <span class="token keyword">array</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<br>	<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$menu</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>		<span class="token comment">// If menu item has children</span><br>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">menu_item_has_children</span><span class="token punctuation">(</span><span class="token variable">$menu</span><span class="token punctuation">,</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>			<span class="token variable">$new_menu</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>				<span class="token string single-quoted-string">'ID'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">,</span><br>				<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">title</span><span class="token punctuation">,</span><br>				<span class="token string single-quoted-string">'url'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">url</span><span class="token punctuation">,</span><br>				<span class="token string single-quoted-string">'children'</span> <span class="token operator">=></span> <span class="token punctuation">[</span><span class="token punctuation">]</span><br>			<span class="token punctuation">]</span><span class="token punctuation">;</span><br>			<span class="token keyword">continue</span><span class="token punctuation">;</span><br>		<span class="token punctuation">}</span><br><br>		<span class="token comment">// If menu item is a child</span><br>		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token operator">-></span><span class="token property">menu_item_parent</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token punctuation">{</span><br>         <span class="token comment">/** <br>          * Children menu items are preceeded by their parent.<br>          * That means we can safely assume the last menu item is the parent<br>          */</span><br>			<span class="token variable">$parent</span> <span class="token operator">=</span> <span class="token function">array_key_last</span><span class="token punctuation">(</span><span class="token variable">$new_menu</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token function">array_push</span><span class="token punctuation">(</span><span class="token variable">$new_menu</span><span class="token punctuation">[</span><span class="token variable">$parent</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>				<span class="token punctuation">[</span><br>					<span class="token string single-quoted-string">'ID'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">,</span><br>					<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">title</span><span class="token punctuation">,</span><br>					<span class="token string single-quoted-string">'url'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">url</span><span class="token punctuation">,</span><br>				<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>			<span class="token keyword">continue</span><span class="token punctuation">;</span><br>		<span class="token punctuation">}</span><br><br>		<span class="token comment">// Just a normal menu item</span><br>		<span class="token variable">$new_menu</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><br>			<span class="token string single-quoted-string">'ID'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span><span class="token punctuation">,</span><br>			<span class="token string single-quoted-string">'title'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">title</span><span class="token punctuation">,</span><br>			<span class="token string single-quoted-string">'url'</span> <span class="token operator">=></span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token property">url</span><span class="token punctuation">,</span><br>		<span class="token punctuation">]</span><span class="token punctuation">;</span><br><br>	<span class="token punctuation">}</span><br>	<span class="token keyword">return</span> <span class="token variable">$new_menu</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>You may have noticed another custom function used in the above code sample: <code>menu_item_has_children()</code>.</p>
<p>This function checks if the menu item is a parent by searching the array of items for a matching <code>menu_item_parent</code> ID.</p>
<pre class="language-php"><code class="language-php"><span class="token keyword">function</span> <span class="token function-definition function">menu_item_has_children</span><span class="token punctuation">(</span><span class="token variable">$menu</span><span class="token punctuation">,</span> <span class="token variable">$parent_id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>	<span class="token variable">$parent_IDs</span> <span class="token operator">=</span> <span class="token function">array_column</span><span class="token punctuation">(</span><span class="token variable">$menu</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'menu_item_parent'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>	<span class="token variable">$found_menu_items</span> <span class="token operator">=</span> <span class="token function">array_search</span><span class="token punctuation">(</span><span class="token variable">$parent_id</span><span class="token punctuation">,</span> <span class="token variable">$parent_IDs</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>	<span class="token keyword">return</span> <span class="token variable">$found_menu_items</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<h2 id="tailwind-menu">Looping our new menu</h2>
<p>With these two functions we can now loop our menu array and build our nav menu's markup. Let's build a nav menu using markup I get from <a href="https://tailwindui.com/components/application-ui/navigation/navbars" target="_blank">Tailwind UI</a>. We'll provide the JS functionality of the dropdown with Alpine.js.</p>
<p>I'm going to simplify this markup and only include the desktop layout. I'll let you handle the mobile menu yourself.</p>
<p>Here's a quick scaffold of our nav menu component:</p>
<pre class="language-php"><code class="language-php"><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Outer Nav wrapper <span class="token operator">--</span><span class="token operator">></span><br><span class="token operator">&lt;</span>nav <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"bg-gray-800"</span><span class="token operator">></span><br>   <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"mx-auto max-w-7xl px-2 sm:px-6 lg:px-8"</span><span class="token operator">></span><br>      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"relative flex h-16 items-center justify-between"</span><span class="token operator">></span><br>         <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"flex flex-1 items-center justify-center sm:items-stretch sm:justify-start"</span><span class="token operator">></span><br>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"flex flex-shrink-0 items-center"</span><span class="token operator">></span><br>               <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Your Logo <span class="token operator">--</span><span class="token operator">></span><br>               <span class="token operator">&lt;</span>img <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"hidden h-8 w-auto lg:block"</span> src<span class="token operator">=</span><span class="token string double-quoted-string">"https://tailwindui.com/img/logos/mark.svg?color=indigo&amp;shade=500"</span> alt<span class="token operator">=</span><span class="token string double-quoted-string">"Your Company"</span><span class="token operator">></span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br><br>            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Desktop Menu <span class="token operator">--</span><span class="token operator">></span><br>            <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"hidden sm:ml-6 sm:block"</span><span class="token operator">></span><br>               <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string double-quoted-string">"flex space-x-4"</span><span class="token operator">></span><br>                  <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Menu loop goes here <span class="token operator">--</span><span class="token operator">></span><br>               <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>         <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br>   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span>nav<span class="token operator">></span></code></pre>
<p>Inside the placeholder for our menu loop, we'll include our use of our custom <code>my_menu_builder()</code> function. This might be something that we move into a partial so that our template doesn't become unweildy:</p>
<pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span><br><span class="token comment">// Select our menu</span><br><span class="token variable">$menu</span> <span class="token operator">=</span> <span class="token function">custom_menu</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'primary'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// Set class names if the menu item is active</span><br><span class="token variable">$menu_item_active_class</span> <span class="token operator">=</span> <span class="token function">get_the_ID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'bg-gray-900 text-white'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'text-gray-300 hover:bg-gray-700 hover:text-white'</span><span class="token punctuation">;</span><br><span class="token variable">$sub_menu_item_active_class</span> <span class="token operator">=</span> <span class="token function">get_the_ID</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token variable">$item</span><span class="token operator">-></span><span class="token constant">ID</span> <span class="token operator">?</span> <span class="token string single-quoted-string">'bg-gray-100 text-gray-900'</span> <span class="token punctuation">:</span> <span class="token string single-quoted-string">'text-gray-700'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Loop the menu</span><br><span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$menu</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>    <br>   <span class="token comment">// If menu item has children</span><br>   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">isset</span><span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'children'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{open: false}<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>relative inline-block text-left<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>         <br>         <span class="token comment">&lt;!-- Parent Menu Item Button --></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open = !open<span class="token punctuation">'</span></span><br>                  <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$menu_item_active_class</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> inline-flex w-full justify-center rounded-md px-4 py-2 text-sm font-medium shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 focus:ring-offset-gray-100<span class="token punctuation">'</span></span><br>                  <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>menu-button<span class="token punctuation">'</span></span> <span class="token attr-name">aria-expanded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>true<span class="token punctuation">'</span></span> <span class="token attr-name">aria-haspopup</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>true<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>                  <span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span> <span class="token delimiter important">?></span></span><br><br>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>-mr-1 ml-2 h-5 w-5<span class="token punctuation">'</span></span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>http://www.w3.org/2000/svg<span class="token punctuation">'</span></span><br>                     <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>0 0 20 20<span class="token punctuation">'</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>currentColor<span class="token punctuation">'</span></span> <span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>true<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>                     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>path</span> <span class="token attr-name">fill-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>evenodd<span class="token punctuation">'</span></span><br>                        <span class="token attr-name">d</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>M5.23 7.21a.75.75 0 011.06.02L10 11.168l3.71-3.938a.75.75 0 111.08 1.04l-4.25 4.5a.75.75 0 01-1.08 0l-4.25-4.5a.75.75 0 01.02-1.06z<span class="token punctuation">'</span></span><br>                        <span class="token attr-name">clip-rule</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>evenodd<span class="token punctuation">'</span></span> <span class="token punctuation">/></span></span><br>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>         <span class="token comment">&lt;!-- Child menu wrapper --></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open<span class="token punctuation">'</span></span> <span class="token attr-name">@click.away</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open = false<span class="token punctuation">'</span></span> <span class="token attr-name">x-transition</span><br>            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none<span class="token punctuation">'</span></span><br>            <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>menu<span class="token punctuation">'</span></span> <span class="token attr-name">aria-orientation</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>vertical<span class="token punctuation">'</span></span> <span class="token attr-name">aria-labelledby</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>menu-button<span class="token punctuation">'</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>-1<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>py-1<span class="token punctuation">'</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>none<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>               <br>               <span class="token comment">&lt;!-- Loop child items --></span><br>               <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'children'</span><span class="token punctuation">]</span> <span class="token keyword">as</span> <span class="token variable">$child</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>                  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$child</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'url'</span><span class="token punctuation">]</span> <span class="token delimiter important">?></span></span><span class="token punctuation">'</span></span><br>                     <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$sub_menu_item_active_class</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> hover:bg-gray-100 block px-4 py-2 text-sm<span class="token punctuation">'</span></span><br>                     <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>menuitem<span class="token punctuation">'</span></span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>-1<span class="token punctuation">'</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>menu-item-0<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$child</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span> <span class="token delimiter important">?></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>               <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endforeach</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br><br>            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br>   <br>   <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">else</span><span class="token punctuation">:</span> <span class="token delimiter important">?></span></span><br>      <span class="token comment">&lt;!-- Non-parent Top Level Menu Item --></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'url'</span><span class="token punctuation">]</span> <span class="token delimiter important">?></span></span><span class="token punctuation">'</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span><span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$menu_item_active_class</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span> px-3 py-2 rounded-md text-sm font-medium<span class="token punctuation">'</span></span> <span class="token attr-name">aria-current</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>page<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>         <span class="token php language-php"><span class="token delimiter important">&lt;?=</span> <span class="token variable">$item</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'title'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><br>   <span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endif</span><span class="token punctuation">;</span> <span class="token delimiter important">?></span></span><br><br><span class="token php language-php"><span class="token delimiter important">&lt;?php</span> <span class="token keyword">endforeach</span><span class="token punctuation">;</span><span class="token delimiter important">?></span></span></code></pre>
<p><img src="/images/tailwind-nav.jpg" alt="Tailwind Nav Menu"></p>
<p>Each parent menu item is wrapped in a div with an Alpine x-data to manage the state of the dropdown:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-data</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>{open: false}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>button<span class="token punctuation">'</span></span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open = !open<span class="token punctuation">'</span></span><span class="token punctuation">></span></span><br>         Parent Menu Item<br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">x-show</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open<span class="token punctuation">'</span></span> <span class="token attr-name">@click.away</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>open = false<span class="token punctuation">'</span></span> <span class="token attr-name">x-transition</span><span class="token punctuation">></span></span><br>      ... Sub menu contents<br>   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Clicking the button toggles the state of <code>open</code> allowing the sub menu to be hidden/shown.</p>
<aside 
  x-data="visibleNavHighlighter" 
  x-on:scroll.window.throttle.50ms="onScroll()" 
  x-cloak>
  <div class="fixed mt-20 right-0 bottom-0 hidden w-64 overflow-y-auto py-8 px-6 md:top-[4rem] xl:block">
    <p class="text-base">In This Guide</p>
    <ul class="space-y-3 list-none m-0 p-0">
        <template x-for="heading in headings">
            <li class="text-base p-0" :class="if (heading.tagName.toLowerCase() === 'h3') { return 'ml-4' } else if (heading.tagName.toLowerCase() === 'h4') { return 'ml-8' }">
                <a :href="'#'+heading.id" class="no-underline" 
                :class="visibleHeadingId == heading.id ? 'font-medium text-orange-400 dark:text-orange-400' : 'text-slate-800 dark:text-white'" x-text="heading.innerText"></a>
            </li>
        </template>
    </ul>
  </div>
</aside>

    <div class="bg-slate-800  max-w-3xl mt-14 p-8 md:px-16 md:py-12 rounded-lg border border-slate-700 relative shadow-2xl shadow-cyan-900/40 md:flex items-center gap-12">
        <svg data-name="Group 20" xmlns="http://www.w3.org/2000/svg" class="h-20 mx-auto md:mx-none md:h-32" viewBox="0 0 226.913 104.472"><path data-name="Union 1" d="M159.849 104.038V.228h67.063v24.4h-42.109V42.79h40.03v24.4h-40.03v36.848Z" fill="#fff"></path><path data-name="Intersection 2" d="M159.973 61.117h17.43c-.094.551-.2 1.1-.307 1.638a51.646 51.646 0 0 1-3.027 9.75 51.889 51.889 0 0 1-4.788 8.822 52.313 52.313 0 0 1-6.342 7.69q-1.427 1.425-2.966 2.742Zm0-17.14v-31.16q1.536 1.315 2.966 2.744a52.312 52.312 0 0 1 6.342 7.687 51.927 51.927 0 0 1 4.792 8.823 51.623 51.623 0 0 1 3.023 9.746c.145.709.278 1.435.393 2.158Z" fill="#e5e5e5"></path><path data-name="Subtraction 6" d="M121.539 104.227a52.334 52.334 0 0 1-10.468-1.056 51.649 51.649 0 0 1-18.572-7.814 52.09 52.09 0 0 1-18.818-22.852 51.665 51.665 0 0 1-3.027-9.75 52.435 52.435 0 0 1 0-20.936 51.67 51.67 0 0 1 7.815-18.57A52.107 52.107 0 0 1 101.321 4.43a51.752 51.752 0 0 1 9.75-3.026 52.466 52.466 0 0 1 20.935 0 51.642 51.642 0 0 1 18.572 7.815 52.076 52.076 0 0 1 18.821 22.852 51.618 51.618 0 0 1 3.027 9.749c.145.71.278 1.436.394 2.158h-24.078c-.267-.837-.577-1.675-.923-2.492a29.012 29.012 0 0 0-2.682-4.94 29.162 29.162 0 0 0-12.8-10.538 29.046 29.046 0 0 0-27.58 2.681 29.176 29.176 0 0 0-10.538 12.8 29.049 29.049 0 0 0 2.68 27.58 29.173 29.173 0 0 0 12.8 10.539 29.051 29.051 0 0 0 27.584-2.682 29.227 29.227 0 0 0 7.856-7.857 29.034 29.034 0 0 0 3.76-7.951h23.83c-.094.551-.2 1.1-.307 1.638a51.661 51.661 0 0 1-7.815 18.572 52.09 52.09 0 0 1-22.852 18.821 51.636 51.636 0 0 1-9.749 3.026 52.332 52.332 0 0 1-10.467 1.052Z" fill="#fff"></path><path data-name="Intersection 1" d="M101.422 99.906a51.612 51.612 0 0 1-8.778-4.765A51.84 51.84 0 0 1 73.92 72.404a51.356 51.356 0 0 1-3.011-9.7 52.158 52.158 0 0 1 0-20.831 51.333 51.333 0 0 1 3.011-9.7q.998-2.362 2.238-4.625l30.231 74.163a51.327 51.327 0 0 1-4.967-1.805Z" fill="#e5e5e5"></path><path data-name="Subtraction 1" d="M101.282 104.472H73.234l-5.713-15.586H32.2l-5.713 15.585H0L41.032 0h17.66l42.59 104.471ZM49.861 41.2l-8.829 24.138h17.66L49.861 41.2Z" fill="#fff"></path></svg>
        <div class="w-full">
            <h3 class="text-xl ignore-toc text-center font-medium mt-8 md:text-left md:m-0">Get The Free ACF Blocks Mini Course</h3>
            <script src="https://f.convertkit.com/ckjs/ck.5.js"></script>
            <form action="https://app.convertkit.com/forms/3686824/subscriptions" class="seva-form formkit-form" method="post" data-sv-form="3432284" data-uid="52a76ab010" data-format="inline" data-version="5" data-options="{&quot;settings&quot;:{&quot;after_subscribe&quot;:{&quot;action&quot;:&quot;message&quot;,&quot;success_message&quot;:&quot;Success! Now check your email to confirm your subscription.&quot;,&quot;redirect_url&quot;:&quot;&quot;},&quot;analytics&quot;:{&quot;google&quot;:null,&quot;fathom&quot;:null,&quot;facebook&quot;:null,&quot;segment&quot;:null,&quot;pinterest&quot;:null,&quot;sparkloop&quot;:null,&quot;googletagmanager&quot;:null},&quot;modal&quot;:{&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;powered_by&quot;:{&quot;show&quot;:true,&quot;url&quot;:&quot;https://convertkit.com/features/forms?utm_campaign=poweredby&amp;utm_content=form&amp;utm_medium=referral&amp;utm_source=dynamic&quot;},&quot;recaptcha&quot;:{&quot;enabled&quot;:false},&quot;return_visitor&quot;:{&quot;action&quot;:&quot;show&quot;,&quot;custom_content&quot;:&quot;&quot;},&quot;slide_in&quot;:{&quot;display_in&quot;:&quot;bottom_right&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15},&quot;sticky_bar&quot;:{&quot;display_in&quot;:&quot;top&quot;,&quot;trigger&quot;:&quot;timer&quot;,&quot;scroll_percentage&quot;:null,&quot;timer&quot;:5,&quot;devices&quot;:&quot;all&quot;,&quot;show_once_every&quot;:15}},&quot;version&quot;:&quot;5&quot;}" min-width="400">
                <div data-style="clean">
                    <ul class="formkit-alert formkit-alert-error" data-element="errors" data-group="alert"></ul>
                    <div data-element="fields" data-stacked="false" class="flex flex-col md:flex-row items-center gap-4 mt-3 w-full">
                        <input class="formkit-input px-3 py-3 max-w-xs w-full text-base rounded-md min-w-0 text-white placeholder:text-slate-200 bg-slate-900" name="email_address" aria-label="Email Address" placeholder="Email Address" required="" type="email">

                        <button data-element="submit" class="formkit-submit formkit-submit text-base bg-cyan-300 px-3 py-3 rounded-md w-full max-w-xs md:w-auto">
                            <div class="formkit-spinner">
                                <div></div>
                                <div></div>
                                <div></div>
                            </div><span class="text-cyan-900 whitespace-nowrap">Keep me updated</span>
                        </button>
                    </div>
                </div>
            </form>
            
        
            <a href="https://www.modernwpdev.co/#acf" class="mt-8 md:mt-5 flex items-center md:text-left justify-center md:justify-start gap-2 no-underline text-white text-opacity-70 transition-colors hover:text-opacity-100">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75l3 3m0 0l3-3m-3 3v-7.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>

                <span>Checkout the lesson outline</span>
            </a>
            
        </div>
        <div class="absolute top-0 left-11 right-20 h-px bg-gradient-to-r from-slate-800/0 via-cyan-400 to-slate-800/0"></div>
        <div class="absolute -bottom-px left-11 right-20 h-px bg-gradient-to-r from-slate-800/0 via-cyan-400 to-slate-800/0"></div>
    </div>
</article>

<div class=" max-w-screen-md mx-auto px-4 mt-12">
    <div id="disqus_thread"></div>
</div>
<script>
    /**
    *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
    *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = 'https://joeyfarruggio-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </main>

    <footer class="py-16 bg-slate-900 mt-16"> 

    </footer>
    <script defer src="/js/app.min.js"></script>
</body>
</html>